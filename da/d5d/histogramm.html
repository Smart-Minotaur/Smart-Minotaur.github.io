<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Smart Minotaur: Histogramm Ansatz</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo_small.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Smart Minotaur
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Erzeugt von Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Suchen');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Hauptseite</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Zusätzliche&#160;Informationen</span></a></li>
      <li><a href="../../annotated.html"><span>Klassen</span></a></li>
      <li><a href="../../files.html"><span>Dateien</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Suchen" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/d5d/histogramm.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Alle</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Klassen</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Dateien</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Funktionen</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variablen</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Seiten</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Histogramm Ansatz </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Inhaltsverzeichnis</h3>
<ul><li class="level1"><a href="#beschreibung-histogramm">Beschreibung</a></li>
<li class="level1"><a href="#umsetzung-histogramm">Umsetzung</a><ul><li class="level2"><a href="#kartografierung-histogramm">Kartografierung</a></li>
<li class="level2"><a href="#navigation-histogramm">Navigation</a></li>
</ul>
</li>
<li class="level1"><a href="#probleme-histogramm">Probleme</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="beschreibung-histogramm"></a>
Beschreibung</h1>
<p>Der Histogramm Ansatz wurde in dem Package <b>minotaur_map</b> realisiert. In diesem Ansatz wurde die Karte des Labyrinths mithilfe eines Histogrammfeldes aufgezeichnet. Wie in jeder Anwendung läuft auf dem Beagle Bone die <b>RobotControl Node</b>. Außerdem läuft auf dem Beagle Bone die ROS-Node <b>Movebase</b>. Diese realisiert die grundlegende Kommunikation des <b>ROS-Navigation Stack</b>. Dadurch kann Movebase eine globale Zielkoordinate für den Roboter übergeben werden und Movebase navigiert den Roboter an diese Koordinate. Während seiner Navigation wird über Ultraschallsensoren die Umgebungskarte angefertigt.</p>
<p>Aufgrund sehr schlechter Odometrie und der daraus resultierenden unbenutzbaren Karte, gibt es hierfür keine fertig implementierten Navigationsalgorithmen. Die Histogrammkarte kann jedoch mit dem Tool <b>map_monitor</b> benutzt und ausprobiert werden. Mehr findet sich dazu auf der Seite <a class="el" href="../../d3/ddc/gui-tools.html">GUI Tools</a>.</p>
<h1><a class="anchor" id="umsetzung-histogramm"></a>
Umsetzung</h1>
<p>Wie bereits erwähnt gibt es in diesem Ansatz keine fertiggestellten Navigationsalgorithmen. Jedoch sind bereits <b>Templates</b> für einen Bug 0 und <a href="http://de.wikipedia.org/wiki/L%C3%B6sungsalgorithmen_f%C3%BCr_Irrg%C3%A4rten#Pledge-Algorithmus">Pledge-Algorithmus</a> vorhanden. Der grundlegende Gedanke war, dass der Roboter sich mithilfe der <b>Karte</b> und des <b>ROS Navigation Stack</b> durch das Labyrinth navigiert.</p>
<p>Das folgende Diagramm zeigt die interne Funktionsweise des Histogramm Ansatz. Diese Funktionsweise wird in den darauffolgenden Abschnitten näher erläutert.</p>
<div class="image">
<img src="../../histogramm-diagramm.png" alt="histogramm-diagramm.png"/>
</div>
<h2><a class="anchor" id="kartografierung-histogramm"></a>
Kartografierung</h2>
<p>In einem eigenen Thread wird die Histogrammkarte <b>parallel</b> zur Navigation aufgezeichnet. Dabei wird jedesmal, sobald eine neue Messung eintrifft, anhand der aktuellen Position ein Eintrag in der Histogrammkarte gemacht (Zellenwert erhöht). Über ein internes ID Mapping wird unterschieden, zu welchem Sensor die eingehende Messung gehört, sodass auch dessen Ausrichtung berücksichtigt werden kann. Über die aktuelle Position des Roboters und mithilfe der Ausrichtung des Sensors wird ermittelt, in welcher Zelle der Histogrammkarte der Wert erhöht werden muss. Zusätzlich wird den Messungen noch ein Fächer hinzugefügt, sodass der Wert aller Zellen erhöht wird, die auf der Kreisbahn des entsprechenden Kreisabschnitts liegen.</p>
<h2><a class="anchor" id="navigation-histogramm"></a>
Navigation</h2>
<p>In einem seperaten Thread findet die <b>Navigation</b> statt. Anhand der aufgezeichneten Karte legt ein Navigationsalgorithmus die <b>nächste Zielkoordinate</b> fest, an die sich der Roboter bewegen soll. Diese Koordinate wird an den ROS Navigation Stack (<b>MoveBase</b>) übergeben, sodass dieser den Roboter dorthin navigiert. Da die Histogrammkarte nicht in den ROS Navigation Stack integriert ist, werden Hindernisse in der Histogrammkarte von dem ROS Navigation Stack nicht berücksichtigt. Daher muss der eigene Navigationsalgorithmus darauf achtgeben nur Zielkoordinaten zu übergeben, die nicht durch ein Hindernis blockiert werden.</p>
<h1><a class="anchor" id="probleme-histogramm"></a>
Probleme</h1>
<p>Wie schon oben erwähnt wurde dieser ganze Ansatz jedoch <b>verworfen</b>, da die Odometriedaten des Roboters so schlecht waren, dass der Roboter bereits nach kurzer Fahrt komplett die Orientierung verloren hat. Zur Verbesserung der Odometrie sollten eigentlich die Maussensoren genutzt werden. Zu diesem Teil des Projektes finden sich mehr Informationen auf der Seite <a class="el" href="../../da/df2/maussensoren.html">Maussensoren</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">Smart Minotaur</a></li><li class="navelem"><a class="el" href="../../db/d93/roboter.html">Roboter</a></li>
    <li class="footer">Erzeugt am Die Sep 30 2014 12:58:27 für Smart Minotaur von
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
