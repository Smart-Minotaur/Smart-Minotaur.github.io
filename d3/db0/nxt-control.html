<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Smart Minotaur: NXTControl</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../logo_small.jpg"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Smart Minotaur
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Erzeugt von Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Suchen');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Hauptseite</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Zusätzliche&#160;Informationen</span></a></li>
      <li><a href="../../annotated.html"><span>Klassen</span></a></li>
      <li><a href="../../files.html"><span>Dateien</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Suchen" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d3/db0/nxt-control.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Alle</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Klassen</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Dateien</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Funktionen</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variablen</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Seiten</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">NXTControl </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Inhaltsverzeichnis</h3>
<ul><li class="level1"><a href="#beschreibung-nxt-control">Beschreibung</a></li>
<li class="level1"><a href="#kompilieren-nxt-control">Kompilieren</a></li>
<li class="level1"><a href="#entwicklungshergang-nxt-control">Entwicklungshergang</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="beschreibung-nxt-control"></a>
Beschreibung</h1>
<p>Die NXTControl Bibliothek bietet eine C++ Schnittstelle, um mit einem Lego NXT Brick zu kommunizieren. Hierbei wird das Direct Command Interface des Bricks verwendet. Dieses Interface definiert ein Kommunikationsprotokoll, mit dem Befehle "remote" an den Brick übergeben werden können. So können Sensoren und Motoren direkt angesteuert werden oder es kann über das Mailboxsystem der Brickfirmware mit einem laufenden Programm auf dem Brick kommuniziert werden.</p>
<p>Die Code Dokumentation findet sich im namespace <em>nxt</em>.</p>
<p>NXTControl bietet folgende Features:</p>
<ul>
<li>USB-Kommunikation</li>
<li>Implementierung <b>aller</b> Direct Commands</li>
<li>einfache objektorientierte Nutzung</li>
<li>schnelle Laufzeit durch Implementierung in C++</li>
<li>Threadsafe implementiert</li>
</ul>
<p>Folgende Erweiterungsmöglichkeiten wären für die Bibliothek denkbar:</p>
<ul>
<li>Bluetooth-Kommunikation</li>
<li>Mehr Klassen für verschiedene Sensoren (momentan nur <a class="el" href="../../d7/db3/classnxt_1_1_motor.html">Motor</a> und <a class="el" href="../../de/dcc/classnxt_1_1_ultrasonic_sensor.html">Ultraschallsensor</a>)</li>
<li>Platformunabhängigkeit</li>
</ul>
<h1><a class="anchor" id="kompilieren-nxt-control"></a>
Kompilieren</h1>
<p>Um NXTControl zu kompilieren muss ein Compiler verwendet werden, der zumindest den <b>C++0x Standard</b> implementiert hat. Außerdem muss <b>liusb-1.0 dev</b> installiert sein. Nun muss das Verzeichnis <b>NXTControl</b> ausgecheckt werden. In diesem Verzeichnis müssen nun die folgenden Befehle ausgeführt werden:</p>
<pre class="fragment">mkdir build
cd build
cmake ..
make
</pre><p>Nun steht die Bibiliothek im Verzeichnis <b>build</b> zur Verfügung.</p>
<h1><a class="anchor" id="entwicklungshergang-nxt-control"></a>
Entwicklungshergang</h1>
<p>Im Rahmen dieses Projekts war eine Form der <b>Kommunikation mit dem Lego NXT Brick</b> unverzichtbar. In ersten Ansätzen wurde eine <b>Opensource-Pythonbibliothek</b> verwendet (<a href="https://code.google.com/p/nxt-python/">nxt-python</a>). Bei ersten Versuchen auf dem BBB wurde jedoch schnell klar, dass eine Interpretersprache wie Python für ein kleines Board wie das Beagle Bone ungeeignet ist. Die <b>Auslastung war deutlich zu hoch</b> und Abtastintervalle konnten nicht eingehalten werden. Ein Blick auf die Systemauslastung mit dem Befehl <em>top</em> hat diesen Verdacht bestätigt. Der Pythoninterpreter hat das System zu 100% ausgelastet.</p>
<p>Damit wurde die Bibliothek unbrauchbar für dieses Projekt. Es gibt auch <b>C++ Bibliotheken</b>, die die Kommunikation mit dem Brick ermöglichen (<a href="https://github.com/cmwslw/nxt-plus-plus">nxt++</a>). Doch waren diese nicht so komfortabel und schön objektorientiert zu nutzen wie die Pythonbibliothek. Daher wurde eine eigene kleine Bibliothek implementiert, die in ihrer Struktur der Pythonbibliothek sehr ähnelt. Durch eigene Implementierung in C++ war nun auch die CPU-Auslastung des Systems auf <b>unter 30%</b> gesunken, wodurch alle Abtastintervalle eingehalten werden konnten und noch genügend Ressourcen für größere Aufgaben vorhanden waren. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">Smart Minotaur</a></li><li class="navelem"><a class="el" href="../../db/d93/roboter.html">Roboter</a></li>
    <li class="footer">Erzeugt am Mon Sep 29 2014 17:04:39 für Smart Minotaur von
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.1.2 </li>
  </ul>
</div>
</body>
</html>
